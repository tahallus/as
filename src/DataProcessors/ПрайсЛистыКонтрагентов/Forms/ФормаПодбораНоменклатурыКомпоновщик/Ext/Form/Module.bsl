
#Область СлужебныеМетоды

&НаСервере
Процедура ЗагрузитьТиповыеНастройкиОтбораНоменклатуры(НастройкиКомпоновкиДанных)
	
	СсылкаВоВременномХранилище	= ПрайсЛистыСлужебный.ИнициализироватьНастройкиОтбораНоменклатуры(УникальныйИдентификатор);
	ИсточникДоступныхНастроекКД = Новый ИсточникДоступныхНастроекКомпоновкиДанных(СсылкаВоВременномХранилище);
	
	НастройкиОтбораНоменклатуры.Инициализировать(ИсточникДоступныхНастроекКД);
	НастройкиОтбораНоменклатуры.ЗагрузитьНастройки(НастройкиКомпоновкиДанных);
	
КонецПроцедуры

#КонецОбласти

#Область СобытияФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Перем НастройкиКомпоновкиДанных;
	
	Параметры.Свойство("НастройкиКомпоновкиДанных", НастройкиКомпоновкиДанных);
	ЗагрузитьТиповыеНастройкиОтбораНоменклатуры(НастройкиКомпоновкиДанных);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ЗавершитьРедактирование(Команда)
	
	Результат = Новый Структура;
	Результат.Вставить("НастройкиСКД", НастройкиОтбораНоменклатуры.Настройки);
	
	Закрыть(Результат);
	
КонецПроцедуры

#КонецОбласти