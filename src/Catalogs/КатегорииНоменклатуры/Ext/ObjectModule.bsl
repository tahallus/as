#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ПередЗаписью(Отказ)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если НЕ Отказ И НЕ ЭтоГруппа Тогда
		
		// СтандартныеПодсистемы.Свойства
		УправлениеСвойствами.ПередЗаписьюВидаОбъекта(ЭтотОбъект, "Справочник_Спецификации", "НаборСвойствСпецификации");
		УправлениеСвойствами.ПередЗаписьюВидаОбъекта(ЭтотОбъект, "Справочник_КомплектацииНоменклатуры", "НаборСвойствКомплектацииНоменклатуры");
		УправлениеСвойствами.ПередЗаписьюВидаОбъекта(ЭтотОбъект, "Справочник_ХарактеристикиНоменклатуры", "НаборСвойствХарактеристики");
		УправлениеСвойствами.ПередЗаписьюВидаОбъекта(ЭтотОбъект, "Справочник_Номенклатура", "НаборСвойств");
		// Конец СтандартныеПодсистемы.Свойства
		
	КонецЕсли;
	
	ДополнительныеСвойства.Вставить("ЭтоНовый", ЭтоНовый());
	
КонецПроцедуры // ПередЗаписью()

Процедура ПриЗаписи(Отказ)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если ПометкаУдаления Тогда
		
		ЗначениеЗаполненияКатегории = КатегорииНоменклатурыСервер.ЗначениеЗаполненияКатегории();
		Если ЗначениеЗаполненияКатегории = Ссылка Тогда
			КатегорииНоменклатурыСервер.ЗаписатьЗначениеЗаполненияКатегории(Справочники.КатегорииНоменклатуры.БезКатегории);
		КонецЕсли;
		
	КонецЕсли;
	
	// Шаблоны наименований
	Если НЕ ЭтоГруппа Тогда
		
		ЭтоНовый = Ложь;
		Если ДополнительныеСвойства.Свойство("ЭтоНовый") Тогда
			ЭтоНовый = ДополнительныеСвойства.ЭтоНовый;
		КонецЕсли;
		
		Если ЭтоНовый Тогда
			
			ШаблоныНаименований.СоздатьШаблоныПоУмолчанию(Ссылка);
			
		КонецЕсли;
		
	КонецЕсли;
	// Конец Шаблоны наименований
	
КонецПроцедуры // ПриЗаписи()

Процедура ПриКопировании(ОбъектКопирования)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если НЕ ЭтоГруппа Тогда
		НаборСвойств = Неопределено;
		НаборСвойствХарактеристики = Неопределено;
		ПорядокСортировки.Очистить();
	КонецЕсли;
	
КонецПроцедуры // ПриКопировании()

Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
	Если НЕ ЭтоГруппа И ИспользоватьСерииНоменклатуры И Не ЗначениеЗаполнено(ПолитикаУчетаСерий) Тогда
		ПроверяемыеРеквизиты.Добавить("ПолитикаУчетаСерий");
	КонецЕсли;
КонецПроцедуры

#КонецОбласти

#Иначе
ВызватьИсключение НСтр("ru = 'Недопустимый вызов объекта на клиенте.'");
#КонецЕсли