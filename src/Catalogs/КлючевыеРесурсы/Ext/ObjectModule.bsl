#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ПередЗаписью(Отказ)
	
	// АПК:75-выкл приводить ЗначениеРесурса в консистентное состояние независимо от признака ОбменДанными.Загрузка
	Если НЕ ЗначениеЗаполнено(ЗначениеРесурса) Тогда
		ЗначениеРесурса = Неопределено;
	КонецЕсли;
	// АПК:75-вкл
	
КонецПроцедуры

Процедура ПриЗаписи(Отказ)
	
	Если ОбменДанными.Загрузка Тогда 
		Возврат;
	КонецЕсли;
	
	НаборЗаписей = РегистрыСведений.ВидыРесурсовПредприятия.СоздатьНаборЗаписей();
	НаборЗаписей.Отбор.РесурсПредприятия.Установить(Ссылка);
	НаборЗаписей.Отбор.ВидРесурсаПредприятия.Установить(Справочники.ВидыРесурсовПредприятия.ВсеРесурсы);
	
	НоваяЗапись = НаборЗаписей.Добавить();
	НоваяЗапись.ВидРесурсаПредприятия = Справочники.ВидыРесурсовПредприятия.ВсеРесурсы;
	НоваяЗапись.РесурсПредприятия = Ссылка;
	НаборЗаписей.Записать();
	
КонецПроцедуры

Процедура ПриКопировании(ОбъектКопирования)
	
	ФайлКартинки = Справочники.КлючевыеРесурсыПрисоединенныеФайлы.ПустаяСсылка();
	
КонецПроцедуры

Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
	
	Если ИспользоватьГрафикСотрудника Тогда
	
		ПроверяемыеРеквизиты.Добавить("ЗначениеРесурса");
	
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Иначе
ВызватьИсключение НСтр("ru = 'Недопустимый вызов объекта на клиенте.'");
#КонецЕсли