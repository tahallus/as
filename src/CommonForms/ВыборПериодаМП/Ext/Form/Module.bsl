#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Сбор статистики
	СборСтатистикиМПКлиентСерверПереопределяемый.ОтправитьОткрытиеЭкранаВGA(ЭтаФорма.ИмяФормы);
	// Конец Сбор статистики
	
	Период = Параметры.Период;
	НачалоПериода = Параметры.НачалоПериода;
	КонецПериода = Параметры.КонецПериода;
	
	Если ЗначениеЗаполнено(Период) Тогда
		Элементы.НачалоПериода.Доступность = Ложь;
		Элементы.КонецПериода.Доступность = Ложь;
	Иначе
		Элементы.НачалоПериода.Доступность = Истина;
		Элементы.КонецПериода.Доступность = Истина;
	КонецЕсли;
		
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовФормы

&НаКлиенте
Процедура ПериодПриИзменении(Элемент)
	
	Если ЗначениеЗаполнено(Период) Тогда
		НачалоПериода = Период.ДатаНачала;
		КонецПериода = Период.ДатаОкончания;
		Элементы.НачалоПериода.Доступность = Ложь;
		Элементы.КонецПериода.Доступность = Ложь;
	Иначе
		НачалоПериода = Неопределено;
		КонецПериода = Неопределено;
		Элементы.НачалоПериода.Доступность = Истина;
		Элементы.КонецПериода.Доступность = Истина;
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура КонецПериода(Команда)
	
	// Сбор статистики
	СборСтатистикиМПКлиентСерверПереопределяемый.ОтправитьДействиеВGA(ЭтаФорма.ИмяФормы + ".Команда." + Команда.Имя);
	ПоказатьВводДаты(Неопределено, КонецПериода);
	
КонецПроцедуры

&НаКлиенте
Процедура НачалоПериода(Команда)
	
	// Сбор статистики
	СборСтатистикиМПКлиентСерверПереопределяемый.ОтправитьДействиеВGA(ЭтаФорма.ИмяФормы + ".Команда." + Команда.Имя);
	ПоказатьВводДаты(Неопределено, НачалоПериода);
	
КонецПроцедуры

&НаКлиенте
Процедура ОК(Команда)
	
	// Сбор статистики
	СборСтатистикиМПКлиентСерверПереопределяемый.ОтправитьДействиеВGA(ЭтаФорма.ИмяФормы + ".Команда." + Команда.Имя);
	// Конец Сбор статистики

	СтруктураРеквизитовФормы = Новый Структура;
	СтруктураРеквизитовФормы.Вставить("НачалоПериода", НачалоПериода);
	СтруктураРеквизитовФормы.Вставить("КонецПериода", КонецПериода);
	СтруктураРеквизитовФормы.Вставить("Период", Период);
	
	Закрыть(СтруктураРеквизитовФормы);
	
КонецПроцедуры

&НаКлиенте
Процедура ПередЗакрытием(Отказ, ЗавершениеРаботы, ТекстПредупреждения, СтандартнаяОбработка)
	
	// Сбор статистики
	СборСтатистикиМПКлиентПереопределяемый.ОтправитьДействиеВGA(ЭтаФорма.ИмяФормы + ".Закрытие",,,ЗавершениеРаботы);
	// Конец Сбор статистики
	
КонецПроцедуры

#КонецОбласти


