
#Область ОбработчикиСобытий

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	Форма = ПолучитьФорму("Документ.ВозвратИзРегистра2ЕГАИС.ФормаОбъекта",, ПараметрыВыполненияКоманды.Источник, ПараметрыВыполненияКоманды.Уникальность, ПараметрыВыполненияКоманды.Окно, ПараметрыВыполненияКоманды.НавигационнаяСсылка);
	
	ДанныеФормы = Форма.Объект;
	
	ЗаполнитьДокумент(ДанныеФормы, ПараметрКоманды);
	КопироватьДанныеФормы(ДанныеФормы, Форма.Объект);
	
	Форма.Открыть();
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура ЗаполнитьДокумент(ДанныеФормы, ПараметрКоманды)
	
	ДокументОбъект = ДанныеФормыВЗначение(ДанныеФормы, Тип("ДокументОбъект.ВозвратИзРегистра2ЕГАИС"));
	ИнтеграцияЕГАИСУНФ.ЗаполнениеДокументовЕГАИС(ДокументОбъект, ПараметрКоманды, Неопределено, Истина);
	ЗначениеВДанныеФормы(ДокументОбъект, ДанныеФормы);
	
КонецПроцедуры

#КонецОбласти
