
#Область ОбработчикиСобытийФормы

&НаКлиенте
Процедура ПередЗаписью(Отказ, ПараметрыЗаписи)
	Если Запись.Номенклатура = Запись.Аналог Тогда
		СтрокаСообщения = НСтр("ru = 'Значение полей ""Номенклатура"" и ""Аналог"" не могут совпадать.'");
		ОбщегоНазначенияКлиент.СообщитьПользователю(СтрокаСообщения,,ЭтаФорма);
		Отказ = Истина;
	КонецЕсли;
	
	БылаЗапись = Истина;
КонецПроцедуры

&НаКлиенте
Процедура ПриЗакрытии(ЗавершениеРаботы)
	
	Если Не ЗавершениеРаботы И БылаЗапись Тогда
		
		СтруктураПараметров = Новый Структура("Номенклатура, Аналог", Запись.Номенклатура, Запись.Аналог);
		
		Оповестить("ЗаписьАналога", СтруктураПараметров, "ФормаЗаписи");
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти