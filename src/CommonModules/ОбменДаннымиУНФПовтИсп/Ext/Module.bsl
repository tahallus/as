#Область ПрограммныйИнтерфейс

// Проверят, существуют ли узлы РИБ в данной информационной базе 
Функция ЕстьУзлыРИБ() Экспорт

	УстановитьПривилегированныйРежим(Истина);

	Запрос = Новый Запрос;
	Запрос.Текст =
	"ВЫБРАТЬ ПЕРВЫЕ 1
	|	Полный.Ссылка КАК Ссылка
	|ИЗ
	|	ПланОбмена.Полный КАК Полный
	|ГДЕ
	|	НЕ Полный.ЭтотУзел
	|	И НЕ Полный.ПометкаУдаления
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	ПоОрганизации.Ссылка
	|ИЗ
	|	ПланОбмена.ПоОрганизации КАК ПоОрганизации
	|ГДЕ
	|	НЕ ПоОрганизации.ЭтотУзел
	|	И НЕ ПоОрганизации.ПометкаУдаления
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	СОтборами.Ссылка
	|ИЗ
	|	ПланОбмена.СОтборами КАК СОтборами
	|ГДЕ
	|	НЕ СОтборами.ЭтотУзел
	|	И НЕ СОтборами.ПометкаУдаления";

	Результат = Не Запрос.Выполнить().Пустой();

	УстановитьПривилегированныйРежим(Ложь);

	Возврат Результат;

КонецФункции

// Определяет является ли данная информационная база
// подчиненным узлом РИБ с фильтрами по подразделению
//
// Возвращаемое значение:
//  Булево - признак подчиненного узла РИБ с фильтрами
Функция ЭтоПодчиненныйУзелРИБСОтбором() Экспорт

	ГлавныйУзел = ПланыОбмена.ГлавныйУзел();

	Возврат ГлавныйУзел <> Неопределено И ТипЗнч(ГлавныйУзел) = Тип("ПланОбменаСсылка.СОтборами");

КонецФункции

#КонецОбласти