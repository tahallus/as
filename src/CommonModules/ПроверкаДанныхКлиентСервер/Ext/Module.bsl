#Область ПрограммныйИнтерфейс

///////////////////////////////////////////////////////////////////////////////
// ФУНКЦИИ ДЛЯ РАБОТЫ С ПРОВЕРКОЙ ДАННЫХ НА КЛИЕНТЕ И СЕРВЕРЕ


// Создает описание структур входных параметров обработки проверки
// данных согласно спецификации (Обработка.ПроверкаДанных.МодульОбъекта)
//
// Возвращает:
//		Структура (ВходнойПереход,ВыходнойПереход,ПараметрыРаботы)
//
Функция ПолучитьОписаниеСтруктурПараметровПроверкиДанных(Организация) Экспорт
	
	#Если Сервер Тогда
		Дата = ТекущаяДатаСеанса();
	#Иначе
		Дата = ТекущаяДата();
	#КонецЕсли
	
	Результат = Новый Структура;
	Результат.Вставить("ВходнойПереход", Новый Структура);
	Результат.Вставить("ВыходнойПереход", Новый Структура);
	Результат.Вставить("ПараметрыРаботы", Новый Структура);
	
	Результат.ВходнойПереход = Новый Структура;
	Результат.ВходнойПереход.Вставить("ИмяПерехода", "");
	Результат.ВходнойПереход.Вставить("НавигационныйПереход", Ложь);
	Результат.ВходнойПереход.Вставить("Адресация", "");
	Результат.ВходнойПереход.Вставить("Параметры", Новый Структура);
	
	Результат.ВыходнойПереход = Новый Структура;
	Результат.ВыходнойПереход.Вставить("ИмяПерехода", "");
	Результат.ВыходнойПереход.Вставить("НавигационныйПереход", Ложь);
	Результат.ВыходнойПереход.Вставить("Адресация", "");
	Результат.ВыходнойПереход.Вставить("Параметры", Новый Структура);
	Результат.ВыходнойПереход.Вставить("РазрешитьПереходПриОшибках", Ложь);
	
	Результат.ПараметрыРаботы = Новый Структура;
	Результат.ПараметрыРаботы.Вставить("Организация", Организация);
	Результат.ПараметрыРаботы.Вставить("СобытиеКПроверке", Неопределено);
	
	Результат.ПараметрыРаботы.Вставить("ПараметрыКонтроля", Новый Структура);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("СведенияПоОрганизации", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("ПараметрыУчета", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("БанковскиеСчета", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("НачальныеОстатки", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("ОтрицательныеДенежныеОстаткиБанк", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("ОтрицательныеДенежныеОстаткиКасса", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("ОтрицательныеСкладскиеОстатки", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("ВзаиморасчетыСКонтрагентами", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("ПериодыРаботыСотрудников", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("ВзаиморасчетыССотрудниками", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("КонтрольПроведенных", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("СведенияПоСотрудникам", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("ЗаполнениеПоказателейЕНВД", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("НаличиеПоказателейЕНВД", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("ТарифыСтраховыхВзносов", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("КорректностьЗаполненияВидовДеятельностиЕНВД", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("КонтрольДокументовИзУНФ", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("ТорговыеТочкиРозничнойПродажиАлкоголя", Ложь);
	Результат.ПараметрыРаботы.ПараметрыКонтроля.Вставить("СведенияПоТорговымТочкам", Ложь);
	
	Результат.ПараметрыРаботы.Вставить("ПериодПроизвольногоКонтроля", Новый Структура);
	Результат.ПараметрыРаботы.ПериодПроизвольногоКонтроля.Вставить("ДатаНачала", '00010101');
	Результат.ПараметрыРаботы.ПериодПроизвольногоКонтроля.Вставить("ДатаОкончания", Дата);
	
	Возврат Результат;
	
КонецФункции

// Функция проверяет корректность Кода ОКВЭД
Функция КодОКВЭДСоответствуетТребованиям(Знач ОКВЭД) Экспорт
	
	ОКВЭД = СокрЛП(ОКВЭД);
	Для Инд = 1 По СтрДлина(ОКВЭД) Цикл
		ТекСимвол = Сред(ОКВЭД, Инд, 1);
		Если ТекСимвол >= "0" И ТекСимвол <= "8" Тогда
			ОКВЭД = Лев(ОКВЭД, Инд - 1) + "9" + Сред(ОКВЭД, Инд + 1);
		КонецЕсли;
	КонецЦикла;
	
	Возврат ОКВЭД = "99" ИЛИ ОКВЭД = "99.9" ИЛИ ОКВЭД = "99.99" ИЛИ ОКВЭД = "99.99.9" ИЛИ ОКВЭД = "99.99.99";
	
КонецФункции


Функция РегНомерПФРСоответствуетТребованиям(Знач РегНомерПФР) Экспорт
	РегНомерПФР = СокрЛП(РегНомерПФР);
	
	Если Не ЗначениеЗаполнено(РегНомерПФР) Тогда 
		Возврат Истина;
	КонецЕсли;
	
	Если СтрДлина(СокрЛП(РегНомерПФР)) <> 14 Тогда
		Возврат Ложь;
	КонецЕсли;
	
	Если Не СтроковыеФункцииКлиентСервер.ТолькоЦифрыВСтроке(Сред(СокрЛП(РегНомерПФР), 1, 3))
		Или Не СтроковыеФункцииКлиентСервер.ТолькоЦифрыВСтроке(Сред(СокрЛП(РегНомерПФР), 5, 3))
		Или Не СтроковыеФункцииКлиентСервер.ТолькоЦифрыВСтроке(Сред(СокрЛП(РегНомерПФР), 9)) Тогда 
		Возврат Ложь;
	КонецЕсли;
	
	Возврат Истина;
	
КонецФункции 

#КонецОбласти
